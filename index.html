<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ğŸ’–</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    height:100vh;
    overflow:hidden;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    background: radial-gradient(circle at bottom,#020024,#090979,#000);
    perspective:1200px;
    color:white;
}

/* ===== 3D SCENE ===== */
.scene{
    position:absolute;
    inset:0;
    transform-style:preserve-3d;
    transition:transform 0.15s ease;
}

/* ===== SCREEN ===== */
.screen{
    position:absolute;
    inset:0;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:16px;
    opacity:0;
    pointer-events:none;
    transition:opacity 0.8s ease;
}
.screen.active{
    opacity:1;
    pointer-events:auto;
}

/* ===== CARD (MOBILE FIRST) ===== */
.card{
    width:100%;
    max-width:420px;
    background:rgba(255,255,255,0.15);
    backdrop-filter: blur(16px);
    padding:28px 22px;
    border-radius:22px;
    transform:translateZ(140px);
    box-shadow:0 25px 60px rgba(0,0,0,0.45);
    animation: float 4s ease-in-out infinite;
}

h2{
    font-size:22px;
    margin-bottom:18px;
    line-height:1.35;
}

p{
    font-size:15.5px;
    line-height:1.7;
    text-align:left;
}

/* ===== BUTTONS ===== */
.buttons{
    margin-top:22px;
    display:flex;
    gap:14px;
    flex-wrap:wrap;
}

button{
    flex:1;
    min-width:120px;
    padding:14px 0;
    border:none;
    border-radius:999px;
    font-size:15px;
    cursor:pointer;
    background:linear-gradient(135deg,#ff5fa2,#ff9ecf);
    color:white;
    transition:0.3s;
}
button:active{
    transform:scale(0.95);
}

/* ===== FLOAT ===== */
@keyframes float{
    0%,100%{transform:translateZ(140px) translateY(0)}
    50%{transform:translateZ(160px) translateY(-10px)}
}

/* ===== HEART ===== */
.heart{
    position:absolute;
    animation: fly 8s linear forwards;
}
@keyframes fly{
    from{
        transform:translate3d(var(--x),110vh,var(--z)) scale(0.6);
        opacity:1;
    }
    to{
        transform:translate3d(var(--x),-10vh,var(--z)) scale(1.4);
        opacity:0;
    }
}

/* ===== FLOWER ===== */
.flower{
    position:absolute;
    animation: fall 10s linear forwards;
}
@keyframes fall{
    from{
        transform:translate3d(var(--x),-10vh,var(--z)) rotate(0deg);
        opacity:1;
    }
    to{
        transform:translate3d(var(--x),110vh,var(--z)) rotate(360deg);
        opacity:0;
    }
}

canvas{position:absolute;inset:0}
</style>
</head>

<body>

<audio id="bgm" loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7b2c6c6b28.mp3">
</audio>

<div class="scene" id="scene">
<canvas id="fireworks"></canvas>

<!-- SCREEN 1 -->
<div class="screen active" id="s1">
<div class="card">
<h2 id="q1">Em tháº¥y mÃ¬nh Ä‘Ã£ sáºµn sÃ ng cho má»™t má»‘i quan há»‡ chÆ°a?</h2>
<div class="buttons">
<button onclick="toTH1()">CÃ³ ğŸ’—</button>
<button onclick="toTH2()">ChÆ°a cháº¯c ğŸ¤”</button>
</div>
</div>
</div>

<!-- TH2 -->
<div class="screen" id="s2">
<div class="card">
<h2>ğŸ˜¼ Ai cho áº¥n vÃ o Ä‘Ã¢y</h2>
<p>KhÃ´ng Ä‘Æ°á»£c nÃ© Ä‘Ã¢u nhÃ©.</p>
<div class="buttons">
<button onclick="toTH1()">CÃ³ ğŸ˜Œ</button>
<button onclick="toTH2()">ChÆ°a cháº¯c ğŸ™ƒ</button>
</div>
</div>
</div>

<!-- TH1 -->
<div class="screen" id="s3">
<div class="card">
<p id="msg1"></p>
<div class="buttons">
<button onclick="toFinal()">á»ª ğŸ’</button>
<button onclick="toFinal()">Cháº¯c cháº¯n luÃ´n ğŸ˜³</button>
</div>
</div>
</div>

<!-- FINAL -->
<div class="screen" id="s4">
<div class="card">
<h2>ğŸ† ChÃºc Má»«ng NÄƒm Má»›i 2026 ğŸ†</h2>
<p id="wish"></p>
</div>
</div>

</div>

<script>
/* ===== NAME ===== */
let name = prompt("TÃªn em lÃ  gÃ¬ nhá»‰? ğŸ’–") || "em";
document.getElementById("q1").innerText =
`${name} tháº¥y mÃ¬nh Ä‘Ã£ sáºµn sÃ ng cho má»™t má»‘i quan há»‡ chÆ°a?`;

/* ===== REALISTIC TEXT ===== */
document.getElementById("msg1").innerHTML =
`Anh tháº¥y viá»‡c em suy nghÄ© nghiÃªm tÃºc nhÆ° váº­y lÃ  ráº¥t Ä‘Ã¡ng trÃ¢n trá»ng.<br><br>
NÄƒm nay lÃ  nÄƒm cuá»‘i cáº¥p, má»i thá»© Ä‘á»u quan trá»ng vÃ  cÅ©ng khÃ´ng há» dá»… dÃ ng.
Anh khÃ´ng mong Ä‘iá»u gÃ¬ quÃ¡ lá»›n, chá»‰ lÃ  náº¿u cÃ³ thá»ƒ,
hai mÃ¬nh cÃ¹ng há»c bÃ i, cÃ¹ng nháº¯c nhau cá»‘ gáº¯ng,
Ä‘á»ƒ em khÃ´ng pháº£i tá»± gá»“ng má»™t mÃ¬nh.<br><br>
Anh nghÄ© sá»± quan tÃ¢m Ä‘Ãºng lÃºc vÃ  vá»«a Ä‘á»§
sáº½ giÃºp cáº£ hai hiá»ƒu nhau hÆ¡n,
chá»© khÃ´ng lÃ m má»i thá»© trá»Ÿ nÃªn náº·ng ná».`;

document.getElementById("wish").innerHTML =
`${name} Ã ,<br><br>
BÆ°á»›c sang nÄƒm 2026, anh mong em sáº½ luÃ´n giá»¯ Ä‘Æ°á»£c sá»± bÃ¬nh tÄ©nh
trÆ°á»›c nhá»¯ng ká»³ thi vÃ  nhá»¯ng quyáº¿t Ä‘á»‹nh quan trá»ng phÃ­a trÆ°á»›c.<br><br>
Mong ráº±ng nhá»¯ng ná»— lá»±c Ã¢m tháº§m cá»§a em sáº½ Ä‘Æ°á»£c Ä‘á»n Ä‘Ã¡p,
vÃ  em sáº½ Ä‘á»— <b>Nguyá»‡n vá»ng 1</b> theo cÃ¡ch mÃ  em xá»©ng Ä‘Ã¡ng nháº¥t.<br><br>
DÃ¹ káº¿t quáº£ tháº¿ nÃ o, hÃ£y nhá»› ráº±ng:
em Ä‘Ã£ ráº¥t cá»‘ gáº¯ng, vÃ  Ä‘iá»u Ä‘Ã³ luÃ´n cÃ³ giÃ¡ trá»‹ ğŸ’–`;

const bgm=document.getElementById("bgm");
document.body.addEventListener("click",()=>bgm.play(),{once:true});

/* ===== NAV ===== */
function show(id){
document.querySelectorAll('.screen')
.forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
}
function toTH1(){show('s3')}
function toTH2(){show('s2')}
function toFinal(){show('s4')}

/* ===== PARALLAX (MOBILE SAFE) ===== */
document.addEventListener("mousemove",e=>{
const x=(e.clientX/window.innerWidth-0.5)*10;
const y=(e.clientY/window.innerHeight-0.5)*10;
scene.style.transform=`rotateY(${x}deg) rotateX(${-y}deg)`;
});

/* ===== HEARTS ===== */
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";
h.innerHTML="ğŸ’–";
h.style.setProperty("--x",Math.random()*100+"vw");
h.style.setProperty("--z",(Math.random()*300-150)+"px");
h.style.fontSize=(16+Math.random()*24)+"px";
document.body.appendChild(h);
setTimeout(()=>h.remove(),8000);
},450);

/* ===== FLOWERS ===== */
setInterval(()=>{
const f=document.createElement("div");
f.className="flower";
f.innerHTML=Math.random()>0.5?"ğŸŒ¸":"ğŸŒ¼";
f.style.setProperty("--x",Math.random()*100+"vw");
f.style.setProperty("--z",(Math.random()*300-150)+"px");
f.style.fontSize=(16+Math.random()*20)+"px";
document.body.appendChild(f);
setTimeout(()=>f.remove(),10000);
},700);

/* ===== FIREWORKS ===== */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;canvas.height=innerHeight;
window.onresize=()=>{canvas.width=innerWidth;canvas.height=innerHeight};

class Firework{
constructor(){
this.x=Math.random()*canvas.width;
this.y=canvas.height;
this.ty=Math.random()*canvas.height/2;
this.color=`hsl(${Math.random()*360},100%,60%)`;
this.exploded=false;this.p=[];
}
explode(){
for(let i=0;i<60;i++){
this.p.push({
x:this.x,y:this.y,
vx:(Math.random()-0.5)*7,
vy:(Math.random()-0.5)*7,
life:90
});
}
}
update(){
if(!this.exploded){
this.y-=7;
if(this.y<=this.ty){this.exploded=true;this.explode();}
}else{
this.p.forEach(e=>{e.x+=e.vx;e.y+=e.vy;e.life--});
}
}
draw(){
if(!this.exploded){
ctx.fillStyle=this.color;
ctx.fillRect(this.x,this.y,2,2);
}else{
this.p.forEach(e=>{
ctx.fillStyle=this.color;
ctx.fillRect(e.x,e.y,2,2);
});
}
}
}
const fws=[];
(function animate(){
ctx.fillStyle="rgba(0,0,0,0.25)";
ctx.fillRect(0,0,canvas.width,canvas.height);
if(Math.random()<0.05)fws.push(new Firework());
fws.forEach((f,i)=>{
f.update();f.draw();
if(f.exploded&&f.p.every(p=>p.life<=0))fws.splice(i,1);
});
requestAnimationFrame(animate);
})();
</script>

</body>
</html>
